load '~/code/aoc/aoc.ijs'

in =: 0,(,3+{:)/:~ ". ;._2 aoc 2020 10
*/ +/ 1 3 =/~ 2 -~/\ in
+/ ({:@{.)"_1 (M&(+/ . *)) ^: a: M=: (0&<*<&4) -~/~ in
<. (<0 _1) { %. (-~ =/~@i.@#) M
